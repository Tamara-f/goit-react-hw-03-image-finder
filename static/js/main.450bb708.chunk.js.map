{"version":3,"sources":["components/Section.js","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/ImgAPI.js","components/App.js","index.js","components/Searchbar/Search.module.css"],"names":["Section","children","Searchbar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","props","onSubmit","this","className","s","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","Spinner","color","height","width","ImageGalleryItem","handleClick","onImgClick","largeImageURL","src","webformatURL","alt","Invalue","onClick","ImageGallery","images","map","id","key","Button","Modal","handleKeyDown","code","onClose","window","addEventListener","removeEventListener","API_KEY","query","page","axios","get","then","response","data","hits","App","loading","error","searchQuery","showModal","setLargeImg","url","toggleModal","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","fetchImages","ImgAPI","prevState","catch","finally","handleSearchQuery","prevProps","message","length","ReactDOM","render","querySelector","module","exports"],"mappings":"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","file":"static/js/main.450bb708.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Section({ children }) {\r\n  return <section>{children}</section>;\r\n}\r\n\r\nSection.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\nexport default Section;\r\n","import React, { Component } from 'react';\r\n\r\nimport s from './Search.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      value: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.value);\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type='submit' className={s.SearchFormButton}>\r\n              <span className={s.SearchFormButtonLabel}></span>\r\n            </button>\r\n            <input\r\n              className={s.SearchFormInput}\r\n              type='text'\r\n              placeholder='Search images and photos'\r\n              value={value}\r\n              onChange={this.handleChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nfunction Spinner() {\r\n  return <Loader type='Hearts' color='#00BFFF' height={80} width={80} />;\r\n}\r\n\r\nexport default Spinner;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  handleClick = e => {\r\n    this.props.onImgClick(this.props.largeImageURL);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <li className='ImageGalleryItem'>\r\n        <img\r\n          src={this.props.webformatURL}\r\n          alt={this.props.Invalue}\r\n          onClick={this.handleClick}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  valeu: PropTypes.string,\r\n  onImgClick: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nfunction ImageGallery({ images, onImgClick }) {\r\n  return (\r\n    <ul className='ImageGallery'>\r\n      {images.map(({ id, webformatURL, largeImageURL, value }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          Invalue={value}\r\n          onImgClick={onImgClick}\r\n          largeImageURL={largeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onImgClick: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Button extends Component {\r\n  render() {\r\n    return (\r\n      <button className='LoadMoreBtn' onClick={this.props.onClick}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n    window.addEventListener('click', this.handleClick);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n    window.removeEventListener('click', this.handleClick);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleClick = e => {\r\n    if (e.target.className === 'Backdrop') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className='Backdrop'>\r\n        <div className='Modal'>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n","import axios from 'axios';\r\n\r\nconst API_KEY = '17615021-9599c8e133abdd89b923fc662';\r\n\r\nconst ImgAPI = (query, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default { ImgAPI };\r\n","import React, { Component } from 'react';\n\nimport Section from './Section';\nimport Searchbar from './Searchbar/Searchbar';\nimport Spinner from './Loader/Loader';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Modal from './Modal/Modal';\nimport ImgAPI from '../services/ImgAPI';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: '',\n    page: 1,\n    showModal: false,\n    largeImageURL: null,\n  };\n\n  setLargeImg = url => {\n    this.setState({ largeImageURL: url });\n  };\n\n  toggleModal = () => {\n    this.setState(state => ({ showModal: !state.showModal }));\n  };\n\n  onImgClick = url => {\n    this.toggleModal();\n    this.setLargeImg(url);\n\n    // }\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n      this.setState({ loading: true });\n    }\n    this.scroll();\n  }\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    ImgAPI.ImgAPI(searchQuery, page)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n  handleSearchQuery = query => {\n    this.setState({ searchQuery: query, page: 1, images: [] });\n  };\n\n  render() {\n    const { images, loading, error, showModal } = this.state;\n    return (\n      <>\n        <Section>\n          <Searchbar onSubmit={this.handleSearchQuery} />\n        </Section>\n\n        <Section>\n          {error && <p>Whoops, something went wrong: {error.message}</p>}\n          {loading && <Spinner />}\n          {images.length > 0 && !loading && (\n            <>\n              <ImageGallery\n                images={images}\n                value={this.state.searchQuery}\n                onClick={this.toggleModal}\n                onImgClick={this.onImgClick}\n              />\n\n              <Button onClick={this.fetchImages} />\n            </>\n          )}\n        </Section>\n\n        <Section>\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <img src={this.state.largeImageURL} alt=''></img>\n              <button type='button' className='Xbtn' onClick={this.toggleModal}>\n                x\n              </button>\n            </Modal>\n          )}\n        </Section>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Search_Searchbar__1oEbT\",\"SearchForm\":\"Search_SearchForm__25Ql3\",\"SearchFormButton\":\"Search_SearchFormButton__RJFBF\",\"SearchFormInput\":\"Search_SearchFormInput__3s3Wf\"};"],"sourceRoot":""}